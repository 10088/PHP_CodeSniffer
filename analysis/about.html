<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>About - Analysis of Coding Conventions</title>
    <link rel="shortcut icon" type="image/png"  href="_assets/favicon.png">
    <link rel="stylesheet" type="text/css" href="_assets/styles.css?v=1.3" />
    <script src="_assets/Chart.min.js?v=2.0"></script>
    <script src="_assets/scripts.js?v=1.1"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-359178-18', 'auto');
      ga('send', 'pageview');
    </script>
</head>
<body>

<div id="mainWrap" class="mainWrap">
    <div id="introductionWrap" class="introductionWrap" style="height:370px;">
        <div class="introduction">
            <div class="icon"></div>
            <h1>Analysis of Coding Conventions <span class="repoName">About the reports</span></h1>
            <p>An ongoing <a href="./index.html">analysis of coding conventions</a> is being conducted across a range of PHP projects. This document explains how to read the combined and individual project reports that have been produced.</p>
        </div>
    </div>

    <div id="contentWrap" class="contentWrap">
        <div id="types" class="conventionWrap">
            <div class="conventionDetails">
                <h2><a href="#types">Types of Reports</a></h2>
                <p>The analysis of coding conventions produces both a <strong>combined report</strong> and then an individual <strong>project report</strong> for each project that has been analysed.</p>
                <p>While the reports look similar, the combined report includes features that help find trends and popular coding conventions across a wide range of PHP projects, while the project reports include features to determine how consistently a project applies their preferred coding conventions.</p>
                <p>If you are viewing the combined report, you can click the <strong>View Project Specific Report</strong> link at the top of the page to display a list of all projects that have been analysed. Clicking any of these projects will take you to its individual report page. If you are viewing a project report, an additional <strong>View Combined Report</strong> link is available to take you back to the combined report. The link also displays the number of PHP projects that have been analysed.</p>
                <div class="introductionWrap" style="height:50px;border-radius:15px;width:680px;margin-left:100px;margin-top:-10px;">
                    <ul class="reportLinkList" style="padding:16px 25px 15px 50px;">
                      <li><a href="#" onclick="return false;" class="reportLink reportCombined">View Combined Report (123 PHP Projects)</a></li>
                      <li><a href="#" onclick="return false;" class="reportLink reportProject">View Project Specific Report</a></li>
                    </ul>
                </div>
                <p>The footer of the report shows the date that it was last generated. Project reports additionally show the Github repository and branch they are generated from, and the commit ID of the last commit that was included in the report.</p>
            </div>
        </div>
        <div id="conventions" class="conventionWrap">
            <div class="conventionDetails">
                <h2><a href="#conventions">Coding Conventions</a></h2>
                <p>A coding standard is made up of a number of coding conventions, which are a specific method of writing or formatting source code. Even PHP projects that do not follow a formal coding standard may end up adhering to a set of coding conventions due to the influence of the most common contributors or from new contributors changing their style to match that of existing code when submitting patches.</p>
                <p>Each report in the analysis is a list of coding conventions. Each coding convention will have 1 or more style variations that a project follows. For example, a coding convention such as <strong>Private method prefixed with underscore</strong> will have 2 style variations; <strong>yes</strong> and <strong>no</strong>. A project may prefer one variation over the other, or may use both. Ideally, each coding convention will have a strongly preferred style variation within a project, indicating a high level of <a href="#grades">code consistency</a>.</p>
                <div style="border-top:1px solid #BFBFBF;padding-top:20px;border-bottom:1px solid #BFBFBF;padding-bottom:20px;">
                    <div class="tag" style="padding-right:5px;letter-spacing:1px;">Tip</div>
                    <div style="margin-left:60px;margin-top:-25px;">The title of each coding convention is a bookmark to its place within the report. Copy the link location to link directly to the coding convention within the report.</div>
                </div>
                <p>Coding conventions are ordered inside a report based on how consistently they are applied. The coding conventions at the top of the report have the most variation in styles while the ones at the bottom are typically applied consistently 100% of the time.</p>
                <p>This method causes the order of coding conventions to differ between the various reports, which can make coding conventions hard to find or compare between projects. To assist, an alphabetical listing of all coding conventions within a report is available in a left-side flyout menu. The menu also provides a quick overview of coding convention consistency and, for <abbr title="The report showing an analysis for a single PHP project">project reports</abbr>, places a blue star next to coding conventions that follow the most commonly used style variation across all analysed PHP projects.</p>
                <div id="flyoutFixed" class="flyoutFixed" style="position:relative;left:250px;">
                    <div id="flyoutControl" class="flyoutControl" style="position:relative;left:350px;"></div>
                    <div id="flyoutPin" class="flyoutPin" title="Pin sidebar open" style="position:relative;left:315px;top:0"></div>
                    <div class="flyoutHeader">
                        <h1 style="top:-20px;">Conventions</h1>
                    </div>
                </div>
                <div id="flyout" class="flyout expanded" style="position:relative;left:250px;height:85px;width:400px;overflow:hidden;padding-top:0;margin-bottom:20px;">
                    <ul class="flyoutList" style="margin-top:10px;">
                        <li><a href="#" onclick="return false;"><div class="tdpop popular" title="This project is using the popular method for this convention"></div><div class="td1">A yes/no style coding convention</div><div class="td2"><span class="screenHide">Method: </span>yes</div><div class="td3"><span class="screenHide">Value: </span>80%</div></a></li>
                        <li><a href="#" onclick="return false;"><div class="tdpop"></div><div class="td1">Coding convention about spaces</div><div class="td2"><span class="screenHide">Method: </span>1</div><div class="td3"><span class="screenHide">Value: </span>94%</div></a></li>
                    </ul>
                </div>
                <div style="border-top:1px solid #BFBFBF;padding-top:20px;">
                    <div class="tag" style="padding-right:5px;letter-spacing:1px;">Tip</div>
                    <div style="margin-left:60px;margin-top:-20px;">The flyout menu can be pinned to the left hand side of the report by clicking the <strong style="cursor:help;" onmouseover="document.getElementById('flyoutPin').className='flyoutPin active';" onmouseout="document.getElementById('flyoutPin').className='flyoutPin';">Pin sidebar open</strong> icon.</div>
                </div>
            </div>
        </div>
        <div id="graphs" class="conventionWrap">
            <div class="conventionDetails">
                <h2><a href="#graphs">Style Variation Graphs</a></h2>
                <div style="margin-top:40px;">
                    <p style="width:290px;display:table-cell;vertical-align:top">
                        <canvas style="position:relative;" id="pie1" width="150" height="150"></canvas>
                    </p>
                    <p style="width:100%;display:table-cell;padding-left:50px;vertical-align:top;">
                        The different style variations that have been found for each coding convention are displayed in a pie graph. The most popular style variation is marked with a star in the graph legend.<br/><br/>
                        For the <abbr title="The report showing a combined analysis of all included PHP projects">combined report</abbr>, each section of the pie graph represents the percentage of all analysed PHP code that conforms to a specific style variation.<br/><br/>
                        For <abbr title="The report showing an analysis for a single PHP project">project reports</abbr>, each section of the pie graph represents the percentage of project code that conforms to a specific style variation.
                    </p>
                </div>
                <div style="margin:40px 0;">
                    <p style="width:290px;display:table-cell;vertical-align:top">
                        <canvas style="position:relative;" id="pie2" width="150" height="150"></canvas>
                        <canvas style="position:relative;left:36px;top:-119px;" id="pie3" width="80" height="80"></canvas>
                    </p>
                    <p style="width:100%;display:table-cell;padding-left:50px;vertical-align:top;">
                        When viewing the <abbr title="The report showing a combined analysis of all included PHP projects">combined report</abbr>, a second pie graph is displayed within the main one. This inner pie graph shows the percentage of PHP projects that are using each style variation.<br/><br/>
                        If the inner and outer pie graphs do not align, it is likely that a large PHP project is skewing the results. In the example on the left, the winning style variation is used in 50% of all PHP code, but it is the not the preferred variation for most PHP projects. For this reason, it is also important to look at the percentage of projects that prefer each style variation, which is displayed in the graph legend and looks like this:<br/><br/>
                        <a class="preferredByLink" href="" onclick="return false;">preferred by 40% of projects</a><br/><br/>
                        Clicking the link will show a list of the PHP projects that prefer that style variation. Clicking a project in that list will take you to the coding convention on the project's individual report.
                    </p>
                </div>
                <div style="margin-bottom:40px;">
                    <p style="width:290px;display:table-cell;vertical-align:top">
                        <div class="conventionStatusInProject project true" style="position:relative;width:39px;padding:0;">
                            <span title="This project is using the popular method for this convention" class="conventionStatus" style="left:3px;top:15px;"></span>
                        </div>
                        <div class="conventionStatusInProject project false" style="position:relative;width:39px;padding:0;">
                            <span title="This project is not using the popular method for this convention" class="conventionStatus" style="left:117px;top:15px;"></span>
                        </div>
                    </p>
                    <p style="width:100%;display:table-cell;padding-left:200px;vertical-align:top;">
                        When viewing a <abbr title="The report showing an analysis for a single PHP project">project report</abbr>, a flag is shown to the top right of the graph legend. A blue flag with a white star indicates that the project prefers the most commonly used style variation across all analysed PHP projects, while a white flag indicates that the project prefers a different variation.
                    </p>
                </div>
            </div>
        </div>
        <div id="trends" class="conventionWrap">
            <div class="conventionDetails">
                <h2><a href="#trends">Trends</a></h2>
                <p>
                    The style variations used for each coding convention are tracked over time so that trends can be identified in the data. New data is collected weekly and the results displayed in a line graph at the bottom of each coding convention. Each style variation is plotted on a separate line but uses the same colour as it does in the coding convention pie graphs. Hovering over the graph displays the values at each point in time.
                </p>
                <p style="width:290px;display:table-cell;vertical-align:top">
                    <canvas class="chart-trend" id="line" width="900" height="150"></canvas>
                </p>
                <p>
                    If a large enough swing is detected for a week's data, the point on the line graph will be displayed slightly larger and the events that contributed to the swing will be listed under the graph. In the example above, large swings in the data were seen on the 13th Nov and the 18th Dec.
                </p>
                <div class="historicalEvents" style="margin-left:-35px;width:935px;">
                  <ul>
                    <li class="historicalDate"><strong>13 Nov 2013</strong>: there was a 10% swing from <em>no</em> to <em>yes</em>
                      <ul>
                        <li><a href="#" onclick="return false;">Project A</a> removed 20 lines of code using <em>no</em></li>
                        <li><a href="#" onclick="return false;">Project B</a> added 420 lines of code using <em>yes</em></li>
                      </ul>
                    </li>
                    <li class="historicalDate"><strong>18 Dec 2013</strong>: there was a 10% swing from <em>yes</em> to <em>no</em>
                      <ul>
                        <li><a href="#" onclick="return false;">Project A</a> saw a 70% swing from <em>yes</em> to <em>no</em></li>
                      </ul>
                    </li>
                  </ul>
                </div>
                <p>
                    There are two types of events that can lead to swings in the trend data:
                    <ul>
                        <li>A project changed their preferred style variation</li>
                        <li>A project added or removed lines of code that apply to the coding convention</li>
                    </ul>
                    When viewing the <abbr title="The report showing a combined analysis of all included PHP projects">combined report</abbr>, the project that caused each event will be displayed and linked to. This information is omitted from <abbr title="The report showing an analysis for a single PHP project">project reports</abbr> as the trend data displayed there is specific to the individual project's code and is not influenced by any other projects.
                </p>
            </div>
        </div>
        <div id="grades" class="conventionWrap">
            <div class="conventionDetails">
                <h2><a href="#grades">Code Consistency Grades</a></h2>
                <div style="margin-top:40px;">
                    <p style="width:100%;display:table-cell;vertical-align:top;">
                        Each project is given a grade that indicates how consistently the project's preferred coding conventions are applied throughout the code base. The grades available are <strong><span class="green">A(+/-)</span></strong>, <strong><span class="blue">B(+/-)</span></strong>,<br/>
                        <strong><span class="yellow">C(+/-)</span></strong>, <strong><span class="orange">D(+/-)</span></strong> and <strong><span class="red">F</span></strong>. The project's grade is displayed inside a sash at the top right corner of the <abbr title="The report showing an analysis for a single PHP project">project report</abbr>.<br/><br/>
                        On the <abbr title="The report showing a combined analysis of all included PHP projects">combined report</abbr>, the grade indicates how consistent PHP code is across all analysed projects. A high consistency score here indicates that most PHP projects follow the same coding standard.<br/><br/>
                        Clicking on the sash will display the percentage of code consistency across the project as well as instructions for embedding a badge that can display a project's grade and link to the project's report. The badges look like this:<br/><br/>
                        <img src="./_assets/grades/a-plus.svg"/> <img src="./_assets/grades/b.svg"/> <img src="./_assets/grades/c-minus.svg"/> <img src="./_assets/grades/d.svg"/> <img src="./_assets/grades/f.svg"/>
                    </p>
                    <div style="height:170px;display:table-cell;vertical-align:top;overflow:hidden;">
                        <div id="consistency" class="green" style="position:relative;" title="Across all projects, 99% of the source code conforms to the same coding conventions">
                            <span class="grade">A+</span>consistency
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="data" class="conventionWrap">
            <div class="conventionDetails">
                <h2><a href="#data">Using Report Data</a></h2>
                <p>The raw data used to generate the reports is stored in a <strong>results.json</strong> file in the same directly as the <strong>index.html</strong> file. You are free to download and use this data in whatever way you choose. While it doesn't contain some of the calculated data values such as trend events and grades, it does contain all the current and past raw values for each style variation and coding convention.</p>
                <p>The format of the JOSN file for the <abbr title="The report showing a combined analysis of all included PHP projects">combined report</abbr> is an array of metrics (coding conventions). Each metric contains information about the style variations that have been detected, the repositories that prefer each style variation, and the trend values for each date that has been analysed:</p>
<pre>
{
  "Metric name":{
    "total":2468,
    "total_repos":2,
    "values":{
      "style1":1234,
      "style2":1234
    },
    "repos":{
      "style1":{
        "project1":100,
      },
      "style2":{
        "project2":100,
      }
    },
    "trends":{
      "YYYY-MM-DD":{
        "style1":1234,
        "style2":1234
      },
      ...
    },
    "winner":"style1"
  },
  ...
}
</pre>
                <p>The format of the JOSN file for a <abbr title="The report showing an analysis for a single PHP project">project report</abbr> is similar, but metric data is contained within a <strong>metrics</strong> array index and an additional <strong>project</strong> index is added to store the project path and the ID of the last commit analysed. Each metric also contains slightly different data as it is now project-specific:</p>
<pre>
{
  "metrics":{
    "Metric name":{
      "total":2468,
      "values":{
        "style1":1234,
        "style2":1234
      },
      "percentages":{
        "style1":50,
        "style2":50
      },
      "trends":{
        "YYYY-MM-DD":{
          "style1":1234,
          "style2":1234
        },
        ...
      },
      "winner":"style1"
    },
    ...
  },
  "project":{
    "path":"projectPath",
    "commitid":"commitID"
  }
}
</pre>
            </div>
        </div>
    </div>
</div>

<script>
    var data = [{value:50,color:"#2D3F50",label:"0"},{value:30,color:"#91A2B2",label:"1"},{value:20,color:"#D1D4DB",label:"2"}]
    var c = document.getElementById("pie1").getContext("2d");
    new Chart(c).Doughnut(data,valOptions);
    var c = document.getElementById("pie2").getContext("2d");
    new Chart(c).Doughnut(data,valOptions);
    var data = [{value:35,color:"#2D3F50",label:"0"},{value:40,color:"#91A2B2",label:"1"},{value:25,color:"#D1D4DB",label:"2"}]
    var c = document.getElementById("pie3").getContext("2d");
    new Chart(c).Doughnut(data,repoOptions);

    var data = {labels:["06 Nov","13 Nov","20 Nov","27 Nov","04 Dec","11 Dec","18 Dec"],datasets:[{label:"no",strokeColor:"#2D3F50",pointStrokeColor:"#FFF",pointColor:"#2D3F50",pointHighlightFill:"#FFF",pointHighlightStroke:"#2D3F50",data:[80,70,76,72,80,80,90]},{label:"yes",strokeColor:"#91A2B2",pointStrokeColor:"#FFF",pointColor:"#91A2B2",pointHighlightFill:"#FFF",pointHighlightStroke:"#91A2B2",data:[20,30,28,23,20,20,10]}]};
    var c = document.getElementById("line").getContext("2d");
    var chart = new Chart(c).Line(data,trendOptions);
    highlightPoints(chart, ["13 Nov","18 Dec"]);
</script>
</body>
</html>